<!DOCTYPE html>
<html lang="pt-br">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <title>ChatBelize</title>
ย ยย
ย ย <style>
ย ย ย ย /* Cores do WhatsApp */
ย ย ย ย :root {
ย ย ย ย ย ย --whatsapp-bg: #ECE5DD;
ย ย ย ย ย ย --whatsapp-header: #075E54;
ย ย ย ย ย ย --whatsapp-user-bubble: #DCF8C6;
ย ย ย ย ย ย --whatsapp-bot-bubble: #FFFFFF;
ย ย ย ย ย ย --whatsapp-icon: #128C7E;
ย ย ย ย ย ย --whatsapp-send-btn: #25D366;
ย ย ย ย }

ย ย ย ย /* Base e Responsividade */
ย ย ย ย body {
ย ย ย ย ย ย font-family: Arial, sans-serif;
ย ย ย ย ย ย background-color: #f0f2f5;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย min-height: 100vh;
ย ย ย ย ย ย margin: 0;
ย ย ย ย }

ย ย ย ย .chatbot-container {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย max-width: 450px;
ย ย ย ย ย ย height: 90vh;
ย ย ย ย ย ย max-height: 700px;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย border: 1px solid #ccc;
ย ย ย ย ย ย border-radius: 10px;
ย ย ย ย ย ย box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย ย ย background-color: var(--whatsapp-bg);
ย ย ย ย }

ย ย ย ย .chat-header {
ย ย ย ย ย ย background-color: var(--whatsapp-header);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 15px;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย font-size: 1.1em;
ย ย ย ย }

ย ย ย ย /* Corpo do Chat */
ย ย ย ย .chat-body {
ย ย ย ย ย ย flex-grow: 1;
ย ย ย ย ย ย padding: 15px;
ย ย ย ย ย ย overflow-y: auto;
ย ย ย ย }

ย ย ย ย .message {
ย ย ย ย ย ย max-width: 80%;
ย ย ย ย ย ย padding: 8px 12px;
ย ย ย ย ย ย border-radius: 8px;
ย ย ย ย ย ย margin-bottom: 10px;
ย ย ย ย ย ย position: relative;
ย ย ย ย ย ย word-wrap: break-word;
ย ย ย ย }

ย ย ย ย .bot-message {
ย ย ย ย ย ย background-color: var(--whatsapp-bot-bubble);
ย ย ย ย ย ย color: #000;
ย ย ย ย ย ย margin-right: auto;
ย ย ย ย ย ย border-radius: 0 8px 8px 8px;
ย ย ย ย ย ย box-shadow: 0 1px 0.5px rgba(0, 0, 0, 0.13);
ย ย ย ย }

ย ย ย ย .user-message {
ย ย ย ย ย ย background-color: var(--whatsapp-user-bubble);
ย ย ย ย ย ย color: #000;
ย ย ย ย ย ย margin-left: auto;
ย ย ย ย ย ย border-radius: 8px 8px 0 8px;
ย ย ย ย ย ย box-shadow: 0 1px 0.5px rgba(0, 0, 0, 0.13);
ย ย ย ย }

ย ย ย ย /* Efeito de digitaรงรฃo (3 pontinhos) */
ย ย ย ย @keyframes blink {
ย ย ย ย ย ย 0%, 100% { opacity: 0.2; }
ย ย ย ย ย ย 33% { opacity: 1; }
ย ย ย ย ย ย 66% { opacity: 0.2; }
ย ย ย ย }

ย ย ย ย .typing-indicator {
ย ย ย ย ย ย background-color: var(--whatsapp-bot-bubble);
ย ย ย ย ย ย color: #000;
ย ย ย ย ย ย margin-right: auto;
ย ย ย ย ย ย border-radius: 0 8px 8px 8px;
ย ย ย ย ย ย box-shadow: 0 1px 0.5px rgba(0, 0, 0, 0.13);
ย ย ย ย ย ย padding: 8px 12px;
ย ย ย ย ย ย width: fit-content;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย gap: 4px;
ย ย ย ย ย ย margin-bottom: 10px;
ย ย ย ย }

ย ย ย ย .typing-indicator span {
ย ย ย ย ย ย width: 6px;
ย ย ย ย ย ย height: 6px;
ย ย ย ย ย ย background-color: #555;
ย ย ย ย ย ย border-radius: 50%;
ย ย ย ย ย ย animation: blink 1.5s infinite;
ย ย ย ย }
ย ย ย ย .typing-indicator span:nth-child(2) {
ย ย ย ย ย ย animation-delay: 0.2s;
ย ย ย ย }
ย ย ย ย .typing-indicator span:nth-child(3) {
ย ย ย ย ย ย animation-delay: 0.4s;
ย ย ย ย }


ย ย ย ย /* Rodapรฉ e รrea de Input */
ย ย ย ย .chat-footer {
ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย background-color: #f7f7f7;
ย ย ย ย ย ย border-top: 1px solid #ddd;
ย ย ย ย }

ย ย ย ย .topic-button-area {
ย ย ย ย ย ย margin-bottom: 8px;
ย ย ย ย }

ย ย ย ย #topic-btn {
ย ย ย ย ย ย background-color: var(--whatsapp-icon);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย padding: 8px 15px;
ย ย ย ย ย ย border-radius: 20px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย font-weight: bold;
ย ย ย ย ย ย width: 100%;
ย ย ย ย }

ย ย ย ย .input-area {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย gap: 5px;
ย ย ย ย }

ย ย ย ย #user-input {
ย ย ย ย ย ย flex-grow: 1;
ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย border: 1px solid #ccc;
ย ย ย ย ย ย border-radius: 20px;
ย ย ย ย ย ย font-size: 1em;
ย ย ย ย }

ย ย ย ย #send-btn, #clear-btn {
ย ย ย ย ย ย background-color: var(--whatsapp-send-btn);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย width: 40px;
ย ย ย ย ย ย height: 40px;
ย ย ย ย ย ย border-radius: 50%;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย font-size: 1.2em;
ย ย ย ย ย ย font-weight: bold;
ย ย ย ย ย ย flex-shrink: 0;
ย ย ย ย }

ย ย ย ย #clear-btn {
ย ย ย ย ย ย background-color: #f0f0f0;
ย ย ย ย ย ย color: #333;
ย ย ย ย ย ย font-size: 1em;
ย ย ย ย }

ย ย ย ย /* Botรฃo de Compartilhamento */
ย ย ย ย .share-btn {
ย ย ย ย ย ย display: block;
ย ย ย ย ย ย margin-top: 8px;
ย ย ย ย ย ย background-color: #f0f0f0;
ย ย ย ย ย ย color: var(--whatsapp-icon);
ย ย ย ย ย ย border: 1px solid var(--whatsapp-icon);
ย ย ย ย ย ย padding: 5px 10px;
ย ย ย ย ย ย border-radius: 5px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย font-size: 0.8em;
ย ย ย ย ย ย width: fit-content;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Estilo da mensagem de rodapรฉ */
ย ย ย ย .admin-contact {
ย ย ย ย ย ย display: block;
ย ย ย ย ย ย margin-top: 10px;
ย ย ย ย ย ย padding-top: 5px;
ย ย ย ย ย ย border-top: 1px solid #eee;
ย ย ย ย ย ย font-size: 0.85em;
ย ย ย ย ย ย color: #555;
ย ย ย ย }

ย ย ย ย /* Modal de Tรณpicos */
ย ย ย ย .modal {
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย z-index: 1000;
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย overflow: auto;
ย ย ย ย ย ย background-color: rgba(0,0,0,0.4);
ย ย ย ย }

ย ย ย ย .modal-content {
ย ย ย ย ย ย background-color: var(--whatsapp-bot-bubble);
ย ย ย ย ย ย margin: 15% auto;
ย ย ย ย ย ย padding: 20px;
ย ย ย ย ย ย border: 1px solid #888;
ย ย ย ย ย ย width: 80%;
ย ย ย ย ย ย max-width: 400px;
ย ย ย ย ย ย border-radius: 10px;
ย ย ย ย ย ย position: relative;
ย ย ย ย }

ย ย ย ย .close-btn {
ย ย ย ย ย ย color: #aaa;
ย ย ย ย ย ย float: right;
ย ย ย ย ย ย font-size: 28px;
ย ย ย ย ย ย font-weight: bold;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย }

ย ย ย ย .topic-item-btn {
ย ย ย ย ย ย display: block;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย margin-bottom: 5px;
ย ย ย ย ย ย background-color: #f0f0f0;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย border-radius: 5px;
ย ย ย ย ย ย text-align: left;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย font-size: 1em;
ย ย ย ย ย ย transition: background-color 0.2s;
ย ย ย ย }

ย ย ย ย .topic-item-btn:hover {
ย ย ย ย ย ย background-color: #e0e0e0;
ย ย ย ย }
ย ย </style>
</head>
<body>
ย ยย
ย ย <div class="chatbot-container">
ย ย ย ย <div class="chat-header">
ย ย ย ย ย ย <h3>๐ฌ ChatBelize - Regulamento Interno</h3>
ย ย ย ย </div>
ย ย ย ย <div class="chat-body" id="chat-body">
ย ย ย ย ย ย </div>
ย ย ย ย <div class="chat-footer">
ย ย ย ย ย ย <div class="topic-button-area">
ย ย ย ย ย ย ย ย <button id="topic-btn" title="Tรณpicos Principais">๐ Tรณpicos</button>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <div class="input-area">
ย ย ย ย ย ย ย ย <input type="text" id="user-input" placeholder="Digite sua pergunta...">
ย ย ย ย ย ย ย ย <button id="send-btn" title="Enviar">โถ๏ธ</button>
ย ย ย ย ย ย ย ย <button id="clear-btn" title="Reiniciar Chat">๐งน</button>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </div>
ย ยย
ย ย <div id="topic-modal" class="modal">
ย ย ย ย <div class="modal-content">
ย ย ย ย ย ย <span class="close-btn">&times;</span>
ย ย ย ย ย ย <h4>Selecione um Tรณpico:</h4>
ย ย ย ย ย ย <div id="topic-list">
ย ย ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </div>
ย ยย
ย ย <script>

ย ย ย ย ย ย const regulamentoData = {
ย ย // DISPOSIรรES GERAIS E PENALIDADES
ย ย "Tipos de Penalidades e Valores": "A violaรงรฃo do Regulamento sujeita a: 1. Advertรชncia Verbal; 2. Notificaรงรฃo formal; 3. Aplicaรงรฃo de Multa (leve, mรฉdia e grave). Os valores sรฃo: Leve (1 contribuiรงรฃo mensal base lote 300mยฒ), Mรฉdia (3 contribuiรงรตes), Grave (5 contribuiรงรตes).",
ย ย "Obrigatoriedade da Taxa Associativa": "Todos os USUรRIOS sรฃo obrigados a contribuir para despesas comuns, taxa associativa e custeio de obras. Isso inclui a taxa de roรงada para terrenos vagos (Art. 1ยบ e 2ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Deveres Gerais dos Usuรกrios": "ร dever cumprir e fazer cumprir as determinaรงรตes, acatar deliberaรงรตes de Assembleia e tratar colaboradores e prestadores de serviรงos com respeito (Art. 3ยบ e 6ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",

ย ย // ACESSO E SEGURANรA
ย ย "Controle de Acesso (Geral)": "Os portรตes permanecem fechados sob controle da Portaria. A entrada de veรญculos ou pessoas depende de cadastro e comprovaรงรฃo de sua condiรงรฃo (Art. 9ยบ e 10ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Aluguel por Temporada (Regras)": "Permitido. O proprietรกrio deve garantir o cumprimento de todas as normas pelos ocupantes e se responsabiliza por todos os danos. O nรฃo cumprimento dos procedimentos de controle de acesso resulta em impedimento de entrada e multa (Art. 69ยบ). [Penalidade: **Multa Grave** (5 contribuiรงรตes)]",

ย ย // CONVIVรNCIA E MEIO AMBIENTE
ย ย "Limite de Velocidade": "A velocidade mรกxima permitida nas vias pรบblicas รฉ de **20 Km/h** (Art. 26ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Vegetaรงรฃo de รกrea comum": "Proibido modificaรงรตes, cortes e plantios.(Art. 17ยบ, 18ยบ e 19ยบ)", 
ย ย "Fachadas das casas": "ร proibido colocar nas fachadas, jardins, janelas e portas dos imรณveis, quaisquer anรบncios prรณprios ou de terceiros, bem como exporem tapetes, roupas e artigos domรฉsticos de qualquer natureza (Art. 8ยบ)", 
ย ย "Fogueiras": "A ninguรฉm รฉ permitido atear fogo em resรญduos vegetais, orgรขnicos e de qualquer espรฉcie, sob pena de aplicaรงรฃo de multa leve, alรฉm de arcar com as penalidades advindas do Poder Pรบblico fiscalizador do meio ambiente. (Art. 16ยบ)",
ย ย "Horรกrio de Silรชncio (Barulho)": "ร proibido produzir sons que perturbem o sossego das **23h00m รs 08h00m**, exceto em datas previamente aprovadas (Art. 28ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Regras de Animais Domรฉsticos": "Permitida a criaรงรฃo. O condutor รฉ responsรกvel pelo recolhimento imediato das fezes durante passeios (Art. 29ยบ e 31ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Descarte de Entulho e Lixo": "ร proibido o depรณsito de entulho, restos de construรงรฃo ou madeiras nas ruas e terrenos vazios (Art. 15ยบ). O lixo domรฉstico deve ser separado (seco/molhado) e acondicionado nas lixeiras (Art. 24ยบ e 25ยบ). [Penalidade: **Multa** (pena especificada no Art. 15ยบ para entulho) / Advertรชncia (para lixo domรฉstico)]",
ย ย "Uso de Armas e Fogos": "ร vedado o uso de armas de fogo. Proibido o ingresso/uso de explosivos/fogos de artifรญcio (exceto pirotecnia domรฉstica) (Art. 32ยบ e 33ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",

ย ย // MUDANรAS E LOGรSTICA DE OBRAS
ย ย "Horรกrio de Mudanรงas": "De Segunda a Sexta (08h00m รs 17h00m) e Sรกbados (08h00m รs 12h00m). Devem ser agendadas com 48 horas de antecedรชncia (Art. 34ยบ e 35ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Horรกrio de Entrega de Materiais e Concreto": "Entrada de material รฉ permitida das **08h00m รs 16h00m** nos dias รบteis. Caminhรตes de concreto tรชm tolerรขncia de permanecer atรฉ as 17h00m (Art. 48ยบ, ยง 3ยบ e 4ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",

ย ย // CรDIGO DE OBRAS: FLUXO E PARรMETROS
ย ย "Aprovaรงรฃo e Fluxo de Obras/Reformas": "Qualquer projeto/reforma deve ter aprovaรงรฃo prรฉvia da Administraรงรฃo e obedecer ao Cรณdigo de Obras (Art. 48ยบ). O projeto deve ser aprovado pelo profissional do Residencial (com taxa), depois pela Prefeitura, e cรณpias aprovadas entregues ร Administraรงรฃo (Itens 2, 3 e 4). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "รrea Mรญnima e Parรขmetros Construtivos": "Mรญnimo de **140,00mยฒ** (sem edรญculas/terraรงos). Mรกximo de **dois pavimentos** e altura mรกxima de **10,00m** do meio fio. O nรญvel da construรงรฃo deve estar entre **0,60m e 0,80m** acima do meio da rua (Art. 7ยบ, 9ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Recuos Obrigatรณrios": "Para lotes de testada $\ge 12,00m$: Frontal: **5,00m**; Laterais: **2,00m**; Fundos: **4,00m** (Art. 15ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Muros (Proibiรงรฃo Frontal e Altura)": "**Proibido** muro, cerca ou gradil na frente do lote. Muros laterais/fundo (obrigatรณrios no inรญcio da obra) devem ter altura mรกxima de **2,70m** e mรญnima de **1,80m** (Art. 14ยบ / Item 5). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Regras de Edรญculas": "Devem ser tรฉrreas (pรฉ direito mรกx. 3,50m), sem dormitรณrios. Projeรงรฃo horizontal mรกx. de **12%** da รกrea do terreno, e afastamento mรญnimo de **2,00m** da construรงรฃo principal (Art. 10ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Ligaรงรตes Externas (Cabos)": "As ligaรงรตes externas (energia elรฉtrica, telefone, TV a cabo ou similares) serรฃo **obrigatoriamente subterrรขneas** (Art. 12ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",

ย ย // CรDIGO DE OBRAS: TRABALHADORES E CANTEIRO
ย ย "Cadastro, Circulaรงรฃo e Pernoite de Funcionรกrios": "Os funcionรกrios devem ser **cadastrados previamente**. A circulaรงรฃo รฉ limitada ao lote da obra, sendo **proibida a permanรชncia (pernoite)** ou moradia no Residencial (Item 5 e 6.c / Art. 48ยบ, ยง 1ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Vestimenta de Funcionรกrios": "ร obrigatรณrio que os trabalhadores estejam **devidamente trajados**. ร **expressamente proibida a circulaรงรฃo sem camisa e descalรงos** no Residencial (Item 6.f). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Limpeza do Canteiro e Depรณsito de Materiais": "ร proibido usar **lotes vizinhos como depรณsito** de materiais, estacionamento ou canteiro. O responsรกvel deve fazer a **limpeza semanal** do passeio e das vias adjacentes toda a sexta feira (Item 6.g e 6.h). [Penalidade: **Multa Leve** (Art. 65ยบ)]",
ย ย "Instalaรงรตes Provisรณrias na Obra": "ร obrigatรณrio providenciar **sanitรกrio quรญmico/provisรณrio** no fundo do lote e dispor de contentores para รกgua pluvial. As instalaรงรตes devem ter o mรญnimo de impacto visual (Item 5 e 6.e). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Gerenciamento de Caรงambas e Entulho": "O responsรกvel deve solicitar troca da caรงamba antes do limite. Proibido deixar pedaรงos de ferro, madeira ou qualquer tipo de residuo espalhados em รกreas de passeio (34ยช). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",

ย ย // PISCINAS E CALรADAS
ย ย "Regras sobre Piscinas e Drenagem": "As piscinas devem ser cercadas (seguranรงa), mantidas limpas e com tratamento quรญmico (evitar criadouro de mosquitos). Distรขncia mรญnima de **1,5m** do muro do vizinho. O dreno de รกgua deve usar mangote flexรญvel atรฉ a boca de lobo pluvial (35ยช e 36ยช). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Calรงadas (Passeio Pรบblico)": "Obrigatรณria a construรงรฃo de calรงada de pedestres mรญnima com **1,20m** de largura, com pisos antiderrapantes e inclinaรงรฃo mรกxima de 3% (Art. 13ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",

ย ย // รREAS DE LAZER E CONVIVรNCIA
ย ย "Horรกrio Centro de Convivรชncia": "O horรกrio de utilizaรงรฃo do Centro de Convivรชncia (quadras esportivas e quiosques) รฉ das **07h00m รs 23h00m** (Art. 52ยบ, ยง 1ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Agendamento de Quadras Esportivas": "A utilizaรงรฃo das quadras aos sรกbados, domingos, feriados e outros dias de maior movimento, deverรก ser agendada na Portaria (Art. 56ยบ, ยง 1ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]",
ย ย "Horรกrio do Playground": "O horรกrio de funcionamento do Playground รฉ das **08h00m รs 22h00m** (Art. 59ยบ). [Penalidade: Advertรชncia/Multa Geral (Art. 64ยบ)]"
};

ย ย ย ย document.addEventListener('DOMContentLoaded', () => {
ย ย ย ย ย ย const chatBody = document.getElementById('chat-body');
ย ย ย ย ย ย const userInput = document.getElementById('user-input');
ย ย ย ย ย ย const sendBtn = document.getElementById('send-btn');
ย ย ย ย ย ย const clearBtn = document.getElementById('clear-btn');
ย ย ย ย ย ย const topicBtn = document.getElementById('topic-btn');
ย ย ย ย ย ย const topicModal = document.getElementById('topic-modal');
ย ย ย ย ย ย const topicList = document.getElementById('topic-list');
ย ย ย ย ย ย const closeModalBtn = topicModal.querySelector('.close-btn');

ย ย ย ย ย ย // Adiciona a mensagem inicial quando o DOM estiver carregado
ย ย ย ย ย ย addMessage("Olรก! Sou o ChatBelize. Em que posso ajudar vocรช com o Regulamento Interno? Escolha um tรณpico ou digite sua pergunta.", 'bot');

ย ย ย ย ย ย function addMessage(text, sender) {
ย ย ย ย ย ย ย ย const messageDiv = document.createElement('div');
ย ย ย ย ย ย ย ย messageDiv.className = `message ${sender}-message`;
ย ย ย ย ย ย ย ย messageDiv.innerHTML = text;
ย ย ย ย ย ย ย ย chatBody.appendChild(messageDiv);
ย ย ย ย ย ย ย ย chatBody.scrollTop = chatBody.scrollHeight;
ย ย ย ย ย ย ย ย return messageDiv;
ย ย ย ย ย ย }

ย ย ย ย ย ย function addTypingIndicator() {
ย ย ย ย ย ย ย ย const indicatorDiv = document.createElement('div');
ย ย ย ย ย ย ย ย indicatorDiv.className = 'message bot-message typing-indicator';
ย ย ย ย ย ย ย ย indicatorDiv.id = 'typing-dots';
ย ย ย ย ย ย ย ย indicatorDiv.innerHTML = '<span></span><span></span><span></span>';
ย ย ย ย ย ย ย ย chatBody.appendChild(indicatorDiv);
ย ย ย ย ย ย ย ย chatBody.scrollTop = chatBody.scrollHeight;
ย ย ย ย ย ย ย ย return indicatorDiv;
ย ย ย ย ย ย }

ย ย ย ย ย ย function addShareButton(messageElement, textToShare) {
ย ย ย ย ย ย ย ย const shareBtn = document.createElement('button');
ย ย ย ย ย ย ย ย shareBtn.textContent = '๐ Compartilhar Resposta';
ย ย ย ย ย ย ย ย shareBtn.className = 'share-btn';
ย ย ย ย ย ย ย ย shareBtn.onclick = () => {
ย ย ย ย ย ย ย ย ย ย // Remove a mensagem de contato final para o compartilhamento limpo
ย ย ย ย ย ย ย ย ย ย const cleanText = textToShare.split('<span class="admin-contact">')[0].trim();
ย ย ย ย ย ย ย ย ย ย const fullText = `Resposta do ChatBelize sobre o Regulamento: \n\n${cleanText}`;ย
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย if (navigator.share) {
ย ย ย ย ย ย ย ย ย ย ย ย navigator.share({
ย ย ย ย ย ย ย ย ย ย ย ย ย ย title: 'ChatBelize - Regulamento Interno',
ย ย ย ย ย ย ย ย ย ย ย ย ย ย text: fullText,
ย ย ย ย ย ย ย ย ย ย ย ย }).catch((error) => console.error('Erro ao compartilhar', error));
ย ย ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย ย ย navigator.clipboard.writeText(fullText).then(() => {
ย ย ย ย ย ย ย ย ย ย ย ย ย ย alert('Resposta copiada para a รกrea de transferรชncia!');
ย ย ย ย ย ย ย ย ย ย ย ย }).catch(err => {
ย ย ย ย ย ย ย ย ย ย ย ย ย ย alert('Seu navegador nรฃo suporta cรณpia automรกtica. Copie o texto:\n\n' + fullText);
ย ย ย ย ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย ย ย messageElement.appendChild(shareBtn);
ย ย ย ย ย ย }

ย ย ย ย ย ย function generateResponse(query) {
ย ย ย ย ย ย ย ย // 1. Mostrar o indicador de digitaรงรฃo
ย ย ย ย ย ย ย ย const indicator = addTypingIndicator();
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย // 2. Atrasar a resposta em 1 segundo
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย // 3. Remover o indicador apรณs o atraso
ย ย ย ย ย ย ย ย ย ย indicator.remove();

ย ย ย ย ย ย ย ย ย ย let response = "Desculpe, nรฃo encontrei informaรงรตes especรญficas sobre isso no regulamento. Tente usar o botรฃo '๐ Tรณpicos' ou reformular sua pergunta com palavras-chave.";
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย // Lรณgica de busca
ย ย ย ย ย ย ย ย ย ย const normalizedQuery = query.toLowerCase().trim();

ย ย ย ย ย ย ย ย ย ย // Busca 1: Tรณpico exato
ย ย ย ย ย ย ย ย ย ย if (regulamentoData[query]) {
ย ย ย ย ย ย ย ย ย ย ย ย response = regulamentoData[query];
ย ย ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย ย ย // Busca 2: Palavra-chave no Tรณpico ou no Conteรบdo
ย ย ย ย ย ย ย ย ย ย ย ย for (const topic in regulamentoData) {
ย ย ย ย ย ย ย ย ย ย ย ย ย ย const topicContent = regulamentoData[topic].toLowerCase();
ย ย ย ย ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย ย ย if (topic.toLowerCase().includes(normalizedQuery) || topicContent.includes(normalizedQuery)) {
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย response = regulamentoData[topic];
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย break; 
ย ย ย ย ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย // OBRIGATรRIO: Adicionar mensagem final de contato
ย ย ย ย ย ย ย ย ย ย const cleanResponse = response;
ย ย ย ย ย ย ย ย ย ย const finalResponseWithContact = cleanResponse + '<span class="admin-contact">Para maiores informaรงรตes entre em contato com a administraรงรฃo</span>';

ย ย ย ย ย ย ย ย ย ย // 4. Mostrar a resposta final
ย ย ย ย ย ย ย ย ย ย const botMessageElement = addMessage(finalResponseWithContact, 'bot');
ย ย ย ย ย ย ย ย ย ย addShareButton(botMessageElement, finalResponseWithContact);
ย ย ย ย ย ย ย ย }, 1000); // 1000 milissegundos = 1 segundo
ย ย ย ย ย ย }

ย ย ย ย ย ย // --- Eventos ---
ย ย ย ย ย ยย
ย ย ย ย ย ย // Evento 1: Botรฃo Enviar
ย ย ย ย ย ย sendBtn.addEventListener('click', () => {
ย ย ย ย ย ย ย ย const query = userInput.value.trim();
ย ย ย ย ย ย ย ย if (query) {
ย ย ย ย ย ย ย ย ย ย addMessage(query, 'user');
ย ย ย ย ย ย ย ย ย ย userInput.value = '';
ย ย ย ย ย ย ย ย ย ย generateResponse(query);
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย });

ย ย ย ย ย ย // Evento 2: Tecla Enter
ย ย ย ย ย ย userInput.addEventListener('keypress', (e) => {
ย ย ย ย ย ย ย ย if (e.key === 'Enter') {
ย ย ย ย ย ย ย ย ย ย sendBtn.click();
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย });

ย ย ย ย ย ย // Evento 3: Botรฃo Limpar Pesquisa (REINICIAR CHAT)
ย ย ย ย ย ย clearBtn.addEventListener('click', () => {
ย ย ย ย ย ย ย ย // Limpa todo o conteรบdo do chat
ย ย ย ย ย ย ย ย chatBody.innerHTML = '';ย
ย ย ย ย ย ย ย ย // Adiciona a mensagem inicial (garante que a funรงรฃo estรก no escopo)
ย ย ย ย ย ย ย ย addMessage("Olรก! Sou o ChatBelize. Em que posso ajudar vocรช com o Regulamento Interno? Escolha um tรณpico ou digite sua pergunta.", 'bot');
ย ย ย ย ย ย ย ย // Limpa o input e foca nele
ย ย ย ย ย ย ย ย userInput.value = '';
ย ย ย ย ย ย ย ย userInput.focus();
ย ย ย ย ย ย });

ย ย ย ย ย ย // Evento 4: Botรฃo Tรณpicos (Abre Modal)
ย ย ย ย ย ย topicBtn.addEventListener('click', () => {
ย ย ย ย ย ย ย ย topicList.innerHTML = '';
ย ย ย ย ย ย ย ย for (const topic in regulamentoData) {
ย ย ย ย ย ย ย ย ย ย const topicButton = document.createElement('button');
ย ย ย ย ย ย ย ย ย ย topicButton.textContent = `โก๏ธ ${topic}`;
ย ย ย ย ย ย ย ย ย ย topicButton.className = 'topic-item-btn';
ย ย ย ย ย ย ย ย ย ย topicButton.onclick = () => {
ย ย ย ย ย ย ย ย ย ย ย ย topicModal.style.display = 'none';
ย ย ย ย ย ย ย ย ย ย ย ย addMessage(topic, 'user');
ย ย ย ย ย ย ย ย ย ย ย ย generateResponse(topic);
ย ย ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย ย ย ย ย topicList.appendChild(topicButton);
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย topicModal.style.display = 'block';
ย ย ย ย ย ย });

ย ย ย ย ย ย // Evento 5 & 6: Fechar Modal
ย ย ย ย ย ย closeModalBtn.addEventListener('click', () => {
ย ย ย ย ย ย ย ย topicModal.style.display = 'none';
ย ย ย ย ย ย });
ย ย ย ย ย ย window.onclick = (event) => {
ย ย ย ย ย ย ย ย if (event.target === topicModal) {
ย ย ย ย ย ย ย ย ย ย topicModal.style.display = 'none';
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย };
ย ย ย ย });
ย ย </script>
</body>
</html>
